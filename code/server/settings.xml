<?xml version="1.0" encoding="UTF-8"?>

<!-- -->
<settings>
	<database name="stats">
		<tables>
			<table>events</table> 
			<events>
				<primary-key><![CDATA[id]]></primary-key>
				<column>
					<name>id</name>
					<dbtype>integer</dbtype>
				</column>
				<column>
					<name>name</name>
					<dbtype>text</dbtype>
				</column>
				<column>
					<name>date</name>
					<dbtype>text</dbtype>
				</column>
				<column>
					<name>organization</name>
					<dbtype>text</dbtype>
				</column>
				<column>
					<name>location</name>
					<dbtype>text</dbtype>
				</column>
				<column>
					<name>attendance</name>
					<dbtype>integer</dbtype>
				</column>
				<column>
					<name>completed</name>
					<dbtype>integer</dbtype>
				</column>
				<column>
					<name>child_url</name>
					<dbtype>text</dbtype>
				</column>
				<column>
					<name>event_updated</name>
					<dbtype>integer</dbtype>
				</column>			
			</events>

			<table>tmp_events</table>
			<tmp_events>
				<primary-key><![CDATA[id]]></primary-key>
				<column>
					<name>id</name>
					<dbtype>integer</dbtype>
				</column>
				<column>
					<name>completed</name>
					<dbtype>integer</dbtype>
				</column>
				<column>
					<name>child_url</name>
					<dbtype>text</dbtype>
				</column>
			</tmp_events>

			<table>fights</table>
			<fights>
				<primary-key><![CDATA[id]]></primary-key>
				<column>
					<name>event_id</name>
					<dbtype>integer</dbtype>
				</column>
				<column>
					<name>id</name>
					<dbtype>integer</dbtype>
				</column>
				<column>
					<name>fighter_a_id</name>
					<dbtype>integer</dbtype>
				</column>
				<column>
					<name>fighter_b_id</name>
					<dbtype>integer</dbtype>
				</column>
				<column>
					<name>fighter_a_name</name>
					<dbtype>text</dbtype>
				</column>
				<column>
					<name>fighter_b_name</name>
					<dbtype>text</dbtype>
				</column>
				<column>
					<name>weight_class</name>
					<dbtype>text</dbtype>
				</column>
				<column>
					<name>finish_method</name>
					<dbtype>text</dbtype>
				</column>
				<column>
					<name>finish_details</name>
					<dbtype>text</dbtype>
				</column>
				<column>
					<name>rounds_fought</name>
					<dbtype>text</dbtype>
				</column>
				<column>
					<name>time_in_last_round</name>
					<dbtype>text</dbtype>
				</column>
				<column>
					<name>round_format</name>
					<dbtype>text</dbtype>
				</column>
				<column>
					<name>referee_name</name>
					<dbtype>text</dbtype>
				</column>
				<column>
					<name>child_url</name>
					<dbtype>text</dbtype>
				</column>
				<column>
					<name>fight_updated</name>
					<dbtype>integer</dbtype>
				</column>
			</fights>

			<table>rounds</table>
			<rounds>
				<primary-key><![CDATA[fight_id]]></primary-key>
				<primary-key><![CDATA[fighter_id]]></primary-key>
				<primary-key><![CDATA[round]]></primary-key>
				<column>
					<name>fight_id</name>
					<dbtype>integer</dbtype>
				</column>
				<column>
					<name>round</name>
					<dbtype>integer</dbtype>
				</column>
				<column>
					<name>fighter_id</name>
					<dbtype>integer</dbtype>
				</column>
				<column>
					<name>fighter_name</name>
					<dbtype>string</dbtype>
				</column>
				<column>
					<name>knockdowns</name>
					<dbtype>integer</dbtype>
				</column>
				<column>
					<name>sig_strikes</name>
					<dbtype>integer</dbtype>
				</column>
				<column>
					<name>sig_strikes_landed</name>
					<dbtype>integer</dbtype>
				</column>
				<column>
					<name>strikes</name>
					<dbtype>integer</dbtype>
				</column>
				<column>
					<name>strikes_landed</name>
					<dbtype>integer</dbtype>
				</column>
				<column>
					<name>takedown_attempts</name>
					<dbtype>integer</dbtype>
				</column>
				<column>
					<name>takedowns_completed</name>
					<dbtype>integer</dbtype>
				</column>
				<column>
					<name>submission_attempts</name>
					<dbtype>integer</dbtype>
				</column>
				<column>
					<name>guard_passes</name>
					<dbtype>integer</dbtype>
				</column>
				<column>
					<name>reversals</name>
					<dbtype>integer</dbtype>
				</column>
			</rounds>

			<table>scorecards</table> 
			<scorecards>
				<primary-key><![CDATA[id]]></primary-key>
				<column>
					<name>id</name>
					<dbtype>integer</dbtype>
				</column>
				<column>
					<name>fight_id</name>
					<dbtype>integer</dbtype>
				</column>
				<column>
					<name>judge</name>
					<dbtype>string</dbtype>
				</column>
				<column>
					<name>fighter_a_score</name>
					<dbtype>integer</dbtype>
				</column>
				<column>
					<name>fighter_b_score</name>
					<dbtype>integer</dbtype>
				</column>
			</scorecards>

			<table>fighters</table> 
			<fighters>
				<primary-key><![CDATA[id]]></primary-key>
				<column>
					<name>id</name>
					<dbtype>integer</dbtype>
				</column>
				<column>
					<name>firstname</name>
					<dbtype>text</dbtype>
				</column>
				<column>
					<name>lastname</name>
					<dbtype>text</dbtype>
				</column>
				<column>
					<name>nickname</name>
					<dbtype>text</dbtype>
				</column>
				<column>
					<name>title</name>
					<dbtype>text</dbtype>
				</column>
				<column>
					<name>height</name>
					<dbtype>integer</dbtype>
				</column>
				<column>
					<name>weight</name>
					<dbtype>integer</dbtype>
				</column>
				<column>
					<name>reach</name>
					<dbtype>integer</dbtype>
				</column>
				<column>
					<name>stance</name>
					<dbtype>text</dbtype>
				</column>
				<column>
					<name>age</name>
					<dbtype>integer</dbtype>
				</column>
				<column>
					<name>sig_strikes_landed</name>
					<dbtype>integer</dbtype>
				</column>
				<column>
					<name>sig_strikes_accuracy</name>
					<dbtype>integer</dbtype>
				</column>
				<column>
					<name>sig_strikes_absorbed</name>
					<dbtype>integer</dbtype>
				</column>
				<column>
					<name>sig_strikes_defence</name>
					<dbtype>integer</dbtype>
				</column>
				<column>
					<name>takedown_avarage</name>
					<dbtype>integer</dbtype>
				</column>
				<column>
					<name>takedown_accuracy</name>
					<dbtype>integer</dbtype>
				</column>
				<column>
					<name>takedown_defence</name>
					<dbtype>integer</dbtype>
				</column>
				<column>
					<name>submission_avarage</name>
					<dbtype>integer</dbtype>
				</column>
				<column>
					<name>wins</name>
					<dbtype>integer</dbtype>
				</column>
				<column>
					<name>losses</name>
					<dbtype>integer</dbtype>
				</column>
				<column>
					<name>draws</name>
					<dbtype>integer</dbtype>
				</column>
				<column>
					<name>nc</name>
					<dbtype>integer</dbtype>
				</column>
				<column>
					<name>fighter_updated</name>
					<dbtype>integer</dbtype>
				</column>
				<column>
					<name>fighter_url</name>
					<dbtype>text</dbtype>
				</column>
			</fighters>

			<table>tmp_fighters</table> 
			<tmp_fighters>
				<primary-key><![CDATA[id]]></primary-key>
				<column>
					<name>id</name>
					<dbtype>integer</dbtype>
				</column>
				<column>
					<name>firstname</name>
					<dbtype>text</dbtype>
				</column>
				<column>
					<name>lastname</name>
					<dbtype>text</dbtype>
				</column>
				<column>
					<name>nickname</name>
					<dbtype>text</dbtype>
				</column>				
				<column>
					<name>wins</name>
					<dbtype>integer</dbtype>
				</column>
				<column>
					<name>losses</name>
					<dbtype>integer</dbtype>
				</column>
				<column>
					<name>draws</name>
					<dbtype>integer</dbtype>
				</column>
				<column>
					<name>fighter_url</name>
					<dbtype>text</dbtype>
				</column>
			</tmp_fighters>
		</tables>
	</database>

	<!-- scraper tasks settings -->

	<scrape-tasks>
		<completed-events>
			<data-source>
				<const-source>true</const-source> <!-- const-url -->
				<const-path><![CDATA[/events/index/date/desc/1/all]]></const-path>
				<host><![CDATA[hosteddb.fightmetric.com]]></host>
				<source-size-statement><![CDATA[]]></source-size-statement>
				<source-statement><![CDATA[]]></source-statement>
			</data-source>
			<scrapers>
				<completed-events>
					<f-key>0</f-key>
					<statement><![CDATA[INSERT OR REPLACE INTO tmp_events (id, completed, child_url) VALUES (?, 1, ?)]]></statement>
				</completed-events>
			</scrapers>
		</completed-events>

		<upcoming-events>
			<data-source>
				<const-source>true</const-source> <!-- const-url -->
				<const-path><![CDATA[/events/index/date/asc/0/all]]></const-path>
				<host><![CDATA[hosteddb.fightmetric.com]]></host>
				<source-size-statement><![CDATA[]]></source-size-statement>
				<source-statement><![CDATA[]]></source-statement>
			</data-source>
			<scrapers>
				<upcoming-events>
					<f-key><![CDATA[0]]></f-key>
					<statement><![CDATA[INSERT OR REPLACE INTO tmp_events (id, completed, child_url) VALUES (?, 0, ?)]]></statement>
				</upcoming-events>
			</scrapers>
		</upcoming-events>

		<event-details-fights>
			<data-source>
				<const-source>false</const-source> <!-- const-url -->
				<const-path></const-path>
				<host><![CDATA[hosteddb.fightmetric.com]]></host>
				<source-size-statement><![CDATA[SELECT COUNT(*) FROM events WHERE event_updated = 0]]></source-size-statement>
				<source-statement><![CDATA[select child_url, id FROM events WHERE event_updated = 0]]></source-statement>
			</data-source>
			<scrapers>
				<event-details>
					<f-key><![CDATA[1]]></f-key>
					<statement><![CDATA[UPDATE events SET name=?, date=?, organization=?, location=?, attendance=?, event_updated=1 WHERE id=?]]></statement>
				</event-details>
				<fights>
					<f-key>1</f-key>
					<statement><![CDATA[INSERT OR REPLACE INTO fights (id, fighter_a_id, fighter_b_id, fighter_a_name, fighter_b_name, weight_class, finish_method, finish_details, rounds_fought, time_in_last_round, round_format, referee_name, child_url, fight_updated, event_id) VALUES (?, ?, ?, '', '', '', '', '', '', '', '', '', ?, 0, ?)]]></statement>
				</fights>
			</scrapers>
		</event-details-fights>

		<fight-details-rounds>
			<data-source>
				<const-source>false</const-source> <!-- true means the const-path supplies the only source -->
				<const-path></const-path>
				<host><![CDATA[hosteddb.fightmetric.com]]></host>
				<source-size-statement><![CDATA[SELECT COUNT(*) FROM fights WHERE fight_updated = 0]]></source-size-statement>
				<source-statement><![CDATA[SELECT child_url, id, fighter_a_id, fighter_b_id FROM fights WHERE fight_updated = 0]]></source-statement>
			</data-source>
			<scrapers>
				<fight-details>
					<f-key>1</f-key><!-- 1 up to 31  -->
					<statement><![CDATA[UPDATE fights SET fighter_a_id=?, fighter_b_id=?, fighter_a_name=?, fighter_b_name=?, weight_class=?, finish_method=?, finish_details=?, rounds_fought=?, time_in_last_round=?, round_format=?, referee_name=?, fight_updated=1 WHERE id=?]]></statement>
				</fight-details>
				<rounds-winner>
					<f-key>2</f-key><!-- 0 up to 31, can have multiple fields -->
					<f-key>1</f-key><!-- 0 up to 31, can have multiple fields -->
					<statement><![CDATA[INSERT OR REPLACE INTO rounds (fighter_name, round, knockdowns, sig_strikes, sig_strikes_landed, strikes, strikes_landed, takedown_attempts, takedowns_completed, submission_attempts, guard_passes, reversals, fight_id, fighter_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]]></statement>
				</rounds-winner>
				<rounds-looser>
					<f-key>3</f-key><!-- 0 up to 31, can have multiple fields -->
					<f-key>1</f-key><!-- 0 up to 31, can have multiple fields -->
					<statement><![CDATA[INSERT OR REPLACE INTO rounds (fighter_name, round, knockdowns, sig_strikes, sig_strikes_landed, strikes, strikes_landed, takedown_attempts, takedowns_completed, submission_attempts, guard_passes, reversals, fight_id, fighter_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]]></statement>
				</rounds-looser>
			</scrapers>
		</fight-details-rounds>

		<fighters-index>
			<data-source>
				<const-source>true</const-source> <!-- true means the const-path supplies the only source -->
				<const-path><![CDATA[/fighters/index/lastname/asc/all]]></const-path>
				<host><![CDATA[hosteddb.fightmetric.com]]></host>
				<source-size-statement></source-size-statement>
				<source-statement></source-statement>
			</data-source>
			<scrapers>
				<fighters-index>
					<f-key>0</f-key><!-- 1 up to 31  -->
					<statement><![CDATA[INSERT OR REPLACE INTO tmp_fighters (id, firstname, lastname, nickname, wins, losses, draws, fighter_url) VALUES (?,?,?,?,?,?,?,?)]]></statement>
				</fighters-index>
			</scrapers>
		</fighters-index>

		<fighter-details>
			<data-source>
				<const-source>false</const-source> <!-- true means the const-path supplies the only source -->
				<const-path></const-path>
				<host><![CDATA[hosteddb.fightmetric.com]]></host>
				<source-size-statement><![CDATA[SELECT COUNT(*) FROM fighters WHERE fighter_updated = 0]]></source-size-statement>
				<source-statement><![CDATA[SELECT fighter_url, id FROM fighters WHERE fighter_updated = 0]]></source-statement>
			</data-source>
			<scrapers>
				<fighter-details>
					<f-key>1</f-key><!-- 1 up to 31  -->
					<statement><![CDATA[UPDATE fighters SET title=?, nc=?, height=?, weight=?, reach=?, stance=?, age=?, sig_strikes_landed=?, takedown_avarage=?, sig_strikes_accuracy=?, takedown_accuracy=?, sig_strikes_absorbed=?, takedown_defence=?, sig_strikes_defence=?, submission_avarage=?, fighter_updated=1 WHERE id=?]]></statement>
				</fighter-details>
			</scrapers>
		</fighter-details>
	</scrape-tasks>

	<data-tasks>
		<compare-events>			
			<prepared-statement><![CDATA[INSERT OR REPLACE INTO events 
				SELECT tmp_events.id AS id, '' AS name, '' AS date, '' AS organization, '' AS location, '' AS attendance, tmp_events.completed AS completed, tmp_events.child_url AS child_url, 0 AS event_updated
				FROM tmp_events
				LEFT JOIN events
				  ON (tmp_events.id = events.id AND tmp_events.completed = events.completed)
				  WHERE events.id IS NULL]]>
			</prepared-statement>
			<prepared-statement><![CDATA[DELETE FROM tmp_events]]></prepared-statement>
		</compare-events>

		<compare-fighters>			
			<prepared-statement><![CDATA[INSERT OR REPLACE INTO fighters 
				SELECT tmp_fighters.id AS id, tmp_fighters.firstname AS firstname, tmp_fighters.lastname AS lastname, tmp_fighters.nickname AS nickname, '' AS title, '' AS height, '' AS weight, '' AS reach, '' AS stance, '' AS age, '' AS sig_strikes_landed, '' AS sig_strikes_percentage, '' AS sig_strikes_absorbed, '' AS sig_strikes_defence, '' AS takedown_avarage, '' AS takedown_accuracy, '' AS takedown_defence, '' AS submission_avarage, tmp_fighters.wins AS wins, tmp_fighters.losses AS losses, tmp_fighters.draws AS draws, '' AS nc, 0 AS fighter_updated, tmp_fighters.fighter_url AS fighter_url
				FROM tmp_fighters
				LEFT JOIN fighters
				  ON (tmp_fighters.id = fighters.id AND tmp_fighters.wins = fighters.wins AND tmp_fighters.losses = fighters.losses AND tmp_fighters.draws = fighters.draws)
				  WHERE fighters.id IS NULL]]>
			</prepared-statement>
			<prepared-statement><![CDATA[DELETE FROM tmp_fighters]]></prepared-statement>
		</compare-fighters>
	</data-tasks>

	<!-- scraper settings -->

	<scrapers>
		<completed-events>
			<pre-process>
				<extract><![CDATA[(<div[\s]class="events_table[\s]data_table[\s]row_is_link">[\w\W]*?<tr[\s]>)(?<capture>[\w\W]*?)(</div>)]]></extract>
				<index-delimiter><![CDATA[</tr>[\w\W]*?<tr.+?>]]></index-delimiter>
			</pre-process>

			<scrape-field>
				<name>id</name>
				<apptype>integer</apptype>
				<regex><![CDATA[(.events.details.)(?<capture>\d+)(\D)]]></regex>
			</scrape-field>
			<scrape-field>
				<name>child_url</name> 
				<apptype>string</apptype>
				<regex><![CDATA[(href=")(?<capture>.*)(">)]]></regex>
			</scrape-field>
		</completed-events>

		<upcoming-events>
			<pre-process>
				<extract><![CDATA[(<div[\s]class="events_table[\s]data_table[\s]row_is_link">[\w\W]*?<tr[\s]>)(?<capture>[\w\W]*?)(</div>)]]></extract>
				<index-delimiter><![CDATA[</tr>[\w\W]*?<tr.+?>]]></index-delimiter>
			</pre-process>

			<scrape-field>
				<name>id</name>
				<apptype>integer</apptype>
				<regex><![CDATA[(.events.details.)(?<capture>\d+)(\D)]]></regex>
			</scrape-field>
			<scrape-field>
				<name>child_url</name> 
				<apptype>string</apptype>
				<regex><![CDATA[(<td[\s]class="left_border"><a href=")(?<capture>.*)(">)]]></regex>
			</scrape-field>
		</upcoming-events>

		<event-details>
			<pre-process>
				<extract><![CDATA[(<div[\s]class="header">)(?<capture>.*?)(</div>)]]></extract>
				<index-delimiter><![CDATA[]]></index-delimiter>
			</pre-process>

			<scrape-field>
				<name>name</name> 
				<apptype>string</apptype>
				<regex><![CDATA[(<h1\s+class="event_header_h1">)(?<capture>.*)(</h1>)]]></regex>
			</scrape-field>
			<scrape-field>
				<name>date</name> 
				<apptype>date</apptype>
				<regex><![CDATA[(<td[\s]+class="title_text">DATE</td>[\w\W]*?<td>)(?<capture>.*?)(</td>)]]></regex>
			</scrape-field>
			<scrape-field>
				<name>organization</name> 
				<apptype>string</apptype>
				<regex><![CDATA[ORGANIZATION</td>\s*?<td>(?<capture>(\b\S+\b\s?)+)+\b</td>]]></regex>
			</scrape-field>
			<scrape-field>
				<name>location</name> 
				<apptype>string</apptype>
				<regex><![CDATA[(LOCATION.+?<td>)(?<capture>[^<]+)(</td>)]]></regex>
			</scrape-field>
			<scrape-field>
				<name>attendance</name> 
				<apptype>integer</apptype>
				<regex><![CDATA[(<td\s+class="title_text">ATTENDANCE</td>[\w\W]+?<td>)(?<capture>[0-9,]*)(</td>)]]></regex>
			</scrape-field>
		</event-details>

		<fights>
			<pre-process>
				<extract><![CDATA[(<td[\s]rowspan="2"[\s]class="rowspan">)(?<capture>[\w\W]*?)(</table>)]]></extract>
				<index-delimiter><![CDATA[<td[\s]rowspan="2"[\s]class="rowspan">]]></index-delimiter>
			</pre-process>

			<scrape-field>
				<name>id</name> 
				<apptype>integer</apptype>
				<regex><![CDATA[(.fights.index.)(?<capture>\d+)(\D)]]></regex>
			</scrape-field>
			<scrape-field>
				<name>fighter_a_id</name> 
				<apptype>integer</apptype>
				<regex><![CDATA[(fighters[/]details[/].*?){1}(?<capture>[^"]+)(")]]></regex>
			</scrape-field>
			<scrape-field>
				<name>fighter_b_id</name> 
				<apptype>integer</apptype>
				<regex><![CDATA[(fighters[/]details[/].*?){2}(?<capture>[^"]+)(")]]></regex>
			</scrape-field>
			<scrape-field>
				<name>child_url</name> 
				<apptype>string</apptype>
				<regex><![CDATA[(<a[\s]href=")(?<capture>.fights.index.\d+)("[\s]class="arrow"></a>)]]></regex>
			</scrape-field>
		</fights>

		<fight-details>
			<pre-process>
				<extract><![CDATA[(class="fight_details_h1")(?<capture>.*?)(</table>)]]></extract>
				<index-delimiter><![CDATA[\A]]></index-delimiter>
			</pre-process>

			<scrape-field>
				<name>fighter_a_id</name> 
				<apptype>integer</apptype>
				<regex><![CDATA[(fighters[/]details[/].*?){1}(?<capture>[^"]+)(")]]></regex>
			</scrape-field>
			<scrape-field>
				<name>fighter_b_id</name> 
				<apptype>integer</apptype>
				<regex><![CDATA[(fighters[/]details[/].*?){2}(?<capture>[^"]+)(")]]></regex>
			</scrape-field>
			<scrape-field>
				<name>fighter_a_name</name> 
				<apptype>string</apptype>
				<regex><![CDATA[(fighters[/]details[/]\d+">.*?){1}(?<capture>[^<]+)(<)]]></regex>
			</scrape-field>
			<scrape-field>
				<name>fighter_b_name</name> 
				<apptype>string</apptype>
				<regex><![CDATA[(fighters[/]details[/]\d+">.*?){2}(?<capture>[^<]+)(<)]]></regex>
			</scrape-field>
			<scrape-field>
				<name>weight_class</name> 
				<apptype>string</apptype>
				<regex><![CDATA[(?i)(?<capture>\b(FLY|BANTAM|FEATHER|HEAVY|LIGHT|MIDDLE|WELTER|CATCH[\s]|LIGHT[\s]HEAVY)?WEIGHT|OPEN|SUPERFIGHT\b)]]></regex>
			</scrape-field>
			<scrape-field>
				<name>finish_method</name> 
				<apptype>string</apptype>
				<regex><![CDATA[fight_details_info(.)*?(?=<td>)<td>(?<capture>[^<]+)]]></regex>
			</scrape-field>
			<scrape-field>
				<name>finish_details</name> 
				<apptype>html</apptype>
				<regex><![CDATA[DETAILS.*?(<td\scolspan[^>]*>\s+)(?<capture>.*?)\s+(</td>)]]></regex>
			</scrape-field>
			<scrape-field>
				<name>rounds_fought</name> 
				<apptype>integer</apptype>
				<regex><![CDATA[(fight_details_info.*?nbsp.)(?<capture>\d)(</td>)]]></regex>
			</scrape-field>
			<scrape-field>
				<name>time_in_last_round</name> 
				<apptype>time</apptype>
				<regex><![CDATA[(fight_details_info.*?\s)(?<capture>\d+:\d+)(\D)]]></regex>
			</scrape-field>
			<scrape-field>
				<name>round_format</name> 
				<apptype>string</apptype>
				<regex><![CDATA[(?i)fight_details_info.*?(?<capture>No Time Limit|[(]([^)]+[)]))]]></regex>
			</scrape-field>
			<scrape-field>
				<name>referee_name</name> 
				<apptype>string</apptype>
				<regex><![CDATA[referees[/]details[/](?<capture>[^"]+)()]]></regex>
			</scrape-field>
		</fight-details>

		<rounds-winner>
			<pre-process>
				<extract><![CDATA[(class="fight_round")(?<capture>.*?)(</table>)]]></extract>
				<index-delimiter><![CDATA[class="fight_round"]]></index-delimiter>
			</pre-process>

			<scrape-field>
				<name>fighter_name</name> 
				<apptype>string</apptype>
				<regex><![CDATA[(<td>)(?<capture>[^<]+)(</td>)]]></regex>
			</scrape-field>
			<scrape-field>
				<name>round</name> 
				<apptype>integer</apptype>
				<regex><![CDATA[(ROUND[\s]+)(?<capture>[^<])()]]></regex>
			</scrape-field>
			<scrape-field>
				<name>knockdowns</name> 
				<apptype>integer</apptype>
				<regex><![CDATA[(<td[\s]align="center">.*?){1}(?<capture>[^<]+)(</td>)]]></regex>
			</scrape-field>
			<scrape-field>
				<name>sig_strikes</name> 
				<apptype>integer</apptype>
				<regex><![CDATA[(<td[\s]align="center">.*?){2}(?<capture>\d+)(</td>)]]></regex>
			</scrape-field>
			<scrape-field>
				<name>sig_strikes_landed</name> 
				<apptype>integer</apptype>
				<regex><![CDATA[(<td[\s]align="center">.*?){2}(?<capture>\d+)([\s]of)]]></regex>
			</scrape-field>
			<scrape-field>
				<name>strikes</name> 
				<apptype>integer</apptype>
				<regex><![CDATA[(<td[\s]align="center">.*?){4}(?<capture>\d+)(</td>)]]></regex>
			</scrape-field>
			<scrape-field>
				<name>strikes_landed</name> 
				<apptype>integer</apptype>
				<regex><![CDATA[(<td[\s]align="center">.*?){4}(?<capture>\d+)([\s]of)]]></regex>
			</scrape-field>
			<scrape-field>
				<name>takedown_attempts</name> 
				<apptype>integer</apptype>
				<regex><![CDATA[(<td[\s]align="center">.*?){5}(?<capture>\d+)(</td>)]]></regex>
			</scrape-field>
			<scrape-field>
				<name>takedowns_completed</name> 
				<apptype>integer</apptype>
				<regex><![CDATA[(<td[\s]align="center">.*?){5}(?<capture>\d+)([\s]of)]]></regex>
			</scrape-field>
			<scrape-field>
				<name>submission_attempts</name> 
				<apptype>integer</apptype>
				<regex><![CDATA[(<td[\s]align="center">.*?){7}(?<capture>[^<]+)(</td>)]]></regex>
			</scrape-field>
			<scrape-field>
				<name>guard_passes</name> 
				<apptype>integer</apptype>
				<regex><![CDATA[(<td[\s]align="center">.*?){8}(?<capture>[^<]+)(</td>)]]></regex>
			</scrape-field>
			<scrape-field>
				<name>reversals</name> 
				<apptype>integer</apptype>
				<regex><![CDATA[(<td[\s]align="center">.*?){9}(?<capture>[^<]+)(</td>)]]></regex>
			</scrape-field>
		</rounds-winner>

		<rounds-looser>
			<pre-process>
				<extract><![CDATA[(class="fight_round")(?<capture>.*?)(</table>)]]></extract>
				<index-delimiter><![CDATA[class="fight_round"]]></index-delimiter>
			</pre-process>

			<scrape-field>
				<name>fighter_name</name> 
				<apptype>string</apptype>
				<regex><![CDATA[(<td>(?<capture>[^<]+)</td>.*?){2}()]]></regex>
			</scrape-field>
			<scrape-field>
				<name>round</name> 
				<apptype>integer</apptype>
				<regex><![CDATA[(ROUND[\s]+)(?<capture>[^<])()]]></regex>
			</scrape-field>
			<scrape-field>
				<name>knockdowns</name> 
				<apptype>integer</apptype>
				<regex><![CDATA[(<td[\s]align="center">.*?){10}(?<capture>[^<]+)(</td>)]]></regex>
			</scrape-field>
			<scrape-field>
				<name>sig_strikes</name> 
				<apptype>integer</apptype>
				<regex><![CDATA[(<td[\s]align="center">.*?){11}(?<capture>\d+)(</td>)]]></regex>
			</scrape-field>
			<scrape-field>
				<name>sig_strikes_landed</name> 
				<apptype>integer</apptype>
				<regex><![CDATA[(<td[\s]align="center">.*?){11}(?<capture>\d+)([\s]of)]]></regex>
			</scrape-field>
			<scrape-field>
				<name>strikes</name> 
				<apptype>integer</apptype>
				<regex><![CDATA[(<td[\s]align="center">.*?){13}(?<capture>\d+)(</td>)]]></regex>
			</scrape-field>
			<scrape-field>
				<name>strikes_landed</name> 
				<apptype>integer</apptype>
				<regex><![CDATA[(<td[\s]align="center">.*?){13}(?<capture>\d+)([\s]of)]]></regex>
			</scrape-field>
			<scrape-field>
				<name>takedown_attempts</name> 
				<apptype>integer</apptype>
				<regex><![CDATA[(<td[\s]align="center">.*?){14}(?<capture>\d+)(</td>)]]></regex>
			</scrape-field>
			<scrape-field>
				<name>takedowns_completed</name> 
				<apptype>integer</apptype>
				<regex><![CDATA[(<td[\s]align="center">.*?){14}(?<capture>\d+)([\s]of)]]></regex>
			</scrape-field>
			<scrape-field>
				<name>submission_attempts</name> 
				<apptype>integer</apptype>
				<regex><![CDATA[(<td[\s]align="center">.*?){16}(?<capture>[^<]+)(</td>)]]></regex>
			</scrape-field>
			<scrape-field>
				<name>guard_passes</name> 
				<apptype>integer</apptype>
				<regex><![CDATA[(<td[\s]align="center">.*?){17}(?<capture>[^<]+)(</td>)]]></regex>
			</scrape-field>
			<scrape-field>
				<name>reversals</name> 
				<apptype>integer</apptype>
				<regex><![CDATA[(<td[\s]align="center">.*?){18}(?<capture>[^<]+)(</td>)]]></regex>
			</scrape-field>
		</rounds-looser>

		<fighters-index>
			<pre-process>
				<extract><![CDATA[<div[\s]class="fighter_list_table[\s]data_table[\s]row_is_link">.+?<tr[\s]>(?<capture>.*?)</table>]]></extract>
				<index-delimiter><![CDATA[<tr[\s]]]></index-delimiter>
			</pre-process>

			<scrape-field>
				<name>id</name> 
				<apptype>integer</apptype>
				<regex><![CDATA[fighters[/]details[/](?<capture>\d+)]]></regex>
			</scrape-field>
			<scrape-field>
				<name>firstname</name> 
				<apptype>string</apptype>
				<regex><![CDATA[(fighters[/]details[/].*?){1}>(?<capture>[^<]+)]]></regex>
			</scrape-field>
			<scrape-field>
				<name>lastname</name> 
				<apptype>string</apptype>
				<regex><![CDATA[(fighters[/]details[/].*?){2}>(?<capture>[^<]+)]]></regex>
			</scrape-field>
			<scrape-field>
				<name>nickname</name> 
				<apptype>string</apptype>
				<regex><![CDATA[(fighters[/]details[/].*?){3}>(?<capture>[^<]+)]]></regex>
			</scrape-field>
			<scrape-field>
				<name>wins</name> 
				<apptype>integer</apptype>
				<regex><![CDATA[(align="center">.*?){5}(?<capture>[^<]*)</td>]]></regex>
			</scrape-field>
			<scrape-field>
				<name>losses</name> 
				<apptype>integer</apptype>
				<regex><![CDATA[(align="center">.*?){6}(?<capture>[^<]*)</td>]]></regex>
			</scrape-field>
			<scrape-field>
				<name>draws</name> 
				<apptype>integer</apptype>
				<regex><![CDATA[(align="center">.*?){7}(?<capture>[^<]*)</td>]]></regex>
			</scrape-field>
			<scrape-field>
				<name>fighter_url</name> 
				<apptype>string</apptype>
				<regex><![CDATA[<a[\s]href="(?<capture>[^"]+)">]]></regex>
			</scrape-field>
		</fighters-index>

		<fighter-details>
			<pre-process>
				<extract><![CDATA[<div[\s]class="fighter_details">.+?(?<capture>.*?)<div[\s]class="view_panel">]]></extract>
				<index-delimiter><![CDATA[]]></index-delimiter>
			</pre-process>

			<scrape-field>
				<name>title</name> 
				<apptype>string</apptype>
				<regex><![CDATA[<div[\s]class="header">[\s]+(?<capture>(\b\S+\b\s?)+)+\b]]></regex>
			</scrape-field>
			<scrape-field>
				<name>nc</name> 
				<apptype>integer</apptype>
				<regex><![CDATA[<td[\s]class="title_text">RECORD</td>.*?(<td[\s]align="center">.*?){6}(?<capture>\d)</td>]]></regex>
			</scrape-field>
			<scrape-field>
				<name>height</name> 
				<apptype>integer</apptype>
				<regex><![CDATA[<table[\s]class="bio_info">.*?>HEIGHT</td>[^(]+[(](?<capture>\d+)[\s]cm[)]]]></regex>
			</scrape-field>
			<scrape-field>
				<name>weight</name> 
				<apptype>integer</apptype>
				<regex><![CDATA[<table[\s]class="bio_info">.*?>WEIGHT</td>[^(]+[(](?<capture>\d+)[\s]kg[)]]]></regex>
			</scrape-field>
			<scrape-field>
				<name>reach</name> 
				<apptype>integer</apptype>
				<regex><![CDATA[<table[\s]class="bio_info">.*?>REACH</td>[^(]+[(](?<capture>\d+)[\s]cm[)]]]></regex>
			</scrape-field>
			<scrape-field>
				<name>stance</name> 
				<apptype>string</apptype>
				<regex><![CDATA[<table[\s]class="bio_info">.*?>STANCE</td>[^>]+>(?<capture>[^<]+)</td>]]></regex>
			</scrape-field>
			<scrape-field>
				<name>age</name> 
				<apptype>integer</apptype>
				<regex><![CDATA[<table[\s]class="bio_info">.*?>AGE</td>[^>]+>(?<capture>[^<]+)</td>]]></regex>
			</scrape-field>
			<scrape-field>
				<name>sig_strikes_landed</name> 
				<apptype>integer</apptype>
				<regex><![CDATA[<table[\s]class="career_statistic">.*?SLpM</td>[^>]+>(?<capture>[\d.]+?)</td>]]></regex>
			</scrape-field>
			<scrape-field>
				<name>takedown_avarage</name> 
				<apptype>integer</apptype>
				<regex><![CDATA[<table[\s]class="career_statistic">.*?TD[\s]Avg.</td>[^>]+>(?<capture>[\d.]+)</td>]]></regex>
			</scrape-field>
			<scrape-field>
				<name>sig_strikes_accuracy</name> 
				<apptype>integer</apptype>
				<regex><![CDATA[<table[\s]class="career_statistic">.*?Str.[\s]Acc.</td>[^>]+>(?<capture>\d+)%</td>]]></regex>
			</scrape-field>
			<scrape-field>
				<name>takedown_accuracy</name> 
				<apptype>integer</apptype>
				<regex><![CDATA[<table[\s]class="career_statistic">.*?TD[\s]Acc.</td>[^>]+>(?<capture>\d+)%</td>]]></regex>
			</scrape-field>
			<scrape-field>
				<name>sig_strikes_absorbed</name> 
				<apptype>integer</apptype>
				<regex><![CDATA[<table[\s]class="career_statistic">.*?SApM</td>[^>]+>(?<capture>[\d.]+)</td>]]></regex>
			</scrape-field>
			<scrape-field>
				<name>takedown_defence</name> 
				<apptype>integer</apptype>
				<regex><![CDATA[<table[\s]class="career_statistic">.*?TD[\s]Def.</td>[^>]+>(?<capture>\d+)%</td>]]></regex>
			</scrape-field>
			<scrape-field>
				<name>striking_defence</name> 
				<apptype>integer</apptype>
				<regex><![CDATA[<table[\s]class="career_statistic">.*?Str.[\s]Def.</td>[^>]+>(?<capture>\d+)%</td>]]></regex>
			</scrape-field>
			<scrape-field>
				<name>submission_avarage</name> 
				<apptype>integer</apptype>
				<regex><![CDATA[<table[\s]class="career_statistic">.*?Sub.[\s]Avg.</td>[^>]+>(?<capture>[\d.]+)</td>]]></regex>
			</scrape-field>
		</fighter-details>
	</scrapers>
</settings>